{
  "spec_version": 1,
  "asset_id": "advanced_features",
  "asset_type": "music",
  "license": "CC0-1.0",
  "seed": 3020,
  "description": "Advanced features demo - showcases automation, IT options, effects, and all keywords",
  "style_tags": ["advanced", "demo", "it-format"],
  "outputs": [
    {
      "kind": "primary",
      "format": "it",
      "path": "advanced_features.it"
    }
  ],
  "recipe": {
    "kind": "music.tracker_song_v1",
    "params": {
      "format": "it",
      "bpm": 120,
      "speed": 6,
      "channels": 8,
      "loop": false,
      "instruments": [
        {
          "name": "lead_synth",
          "synthesis": {
            "type": "sawtooth"
          },
          "envelope": {
            "attack": 0.01,
            "decay": 0.1,
            "sustain": 0.7,
            "release": 0.2
          },
          "default_volume": 56
        },
        {
          "name": "bass_pulse",
          "synthesis": {
            "type": "pulse",
            "duty_cycle": 0.25
          },
          "envelope": {
            "attack": 0.005,
            "decay": 0.1,
            "sustain": 0.6,
            "release": 0.15
          },
          "default_volume": 48
        },
        {
          "name": "percussion",
          "synthesis": {
            "type": "noise",
            "periodic": true
          },
          "envelope": {
            "attack": 0.001,
            "decay": 0.05,
            "sustain": 0.0,
            "release": 0.03
          }
        }
      ],
      "patterns": {
        "intro_fade": {
          "rows": 64,
          "data": [
            {"row": 0, "channel": 0, "note": "C4", "instrument": 0, "volume": 32},
            {"row": 8, "channel": 0, "note": "E4", "instrument": 0, "volume": 40},
            {"row": 16, "channel": 0, "note": "G4", "instrument": 0, "volume": 48},
            {"row": 24, "channel": 0, "note": "C5", "instrument": 0, "volume": 56},
            {"row": 32, "channel": 0, "note": "E5", "instrument": 0, "volume": 64},
            {"row": 0, "channel": 1, "note": "C2", "instrument": 1, "volume": 48},
            {"row": 32, "channel": 1, "note": "G2", "instrument": 1, "volume": 48}
          ]
        },
        "main_with_effects": {
          "rows": 64,
          "data": [
            {"row": 0, "channel": 0, "note": "C4", "instrument": 0, "volume": 64, "effect": {"type": "vibrato", "param": 72}},
            {"row": 16, "channel": 0, "note": "D4", "instrument": 0, "volume": 64, "effect": {"type": "vibrato", "param": 72}},
            {"row": 32, "channel": 0, "note": "E4", "instrument": 0, "volume": 64, "effect": {"type": "volume_slide", "param": 15}},
            {"row": 48, "channel": 0, "note": "G4", "instrument": 0, "volume": 64},
            {"row": 0, "channel": 1, "note": "C2", "instrument": 1, "volume": 56},
            {"row": 16, "channel": 1, "note": "D2", "instrument": 1, "volume": 56},
            {"row": 32, "channel": 1, "note": "E2", "instrument": 1, "volume": 56},
            {"row": 48, "channel": 1, "note": "G2", "instrument": 1, "volume": 56},
            {"row": 0, "channel": 2, "note": "C4", "instrument": 2, "volume": 32},
            {"row": 8, "channel": 2, "note": "C4", "instrument": 2, "volume": 28},
            {"row": 16, "channel": 2, "note": "C4", "instrument": 2, "volume": 32},
            {"row": 24, "channel": 2, "note": "C4", "instrument": 2, "volume": 28},
            {"row": 32, "channel": 2, "note": "C4", "instrument": 2, "volume": 32},
            {"row": 40, "channel": 2, "note": "C4", "instrument": 2, "volume": 28},
            {"row": 48, "channel": 2, "note": "C4", "instrument": 2, "volume": 32},
            {"row": 56, "channel": 2, "note": "C4", "instrument": 2, "volume": 28}
          ]
        },
        "tempo_section": {
          "rows": 32,
          "data": [
            {"row": 0, "channel": 0, "note": "G4", "instrument": 0, "volume": 64},
            {"row": 8, "channel": 0, "note": "A4", "instrument": 0, "volume": 64},
            {"row": 16, "channel": 0, "note": "B4", "instrument": 0, "volume": 64},
            {"row": 24, "channel": 0, "note": "C5", "instrument": 0, "volume": 64},
            {"row": 0, "channel": 1, "note": "G2", "instrument": 1, "volume": 56}
          ]
        },
        "outro_fade": {
          "rows": 64,
          "data": [
            {"row": 0, "channel": 0, "note": "C5", "instrument": 0, "volume": 64},
            {"row": 16, "channel": 0, "note": "G4", "instrument": 0, "volume": 48},
            {"row": 32, "channel": 0, "note": "E4", "instrument": 0, "volume": 32},
            {"row": 48, "channel": 0, "note": "C4", "instrument": 0, "volume": 16},
            {"row": 0, "channel": 1, "note": "C2", "instrument": 1, "volume": 48},
            {"row": 32, "channel": 1, "note": "OFF", "instrument": 1, "volume": 0}
          ]
        }
      },
      "arrangement": [
        {"pattern": "intro_fade", "repeat": 1},
        {"pattern": "main_with_effects", "repeat": 2},
        {"pattern": "tempo_section", "repeat": 1},
        {"pattern": "outro_fade", "repeat": 1}
      ],
      "automation": [
        {
          "type": "volume_fade",
          "pattern": "intro_fade",
          "channel": 0,
          "start_row": 0,
          "end_row": 32,
          "start_vol": 0,
          "end_vol": 64
        },
        {
          "type": "tempo_change",
          "pattern": "tempo_section",
          "row": 0,
          "bpm": 140
        },
        {
          "type": "volume_fade",
          "pattern": "outro_fade",
          "channel": 0,
          "start_row": 0,
          "end_row": 63,
          "start_vol": 64,
          "end_vol": 0
        }
      ],
      "it_options": {
        "stereo": true,
        "global_volume": 100,
        "mix_volume": 64
      }
    }
  }
}
