{
  "spec_version": 1,
  "asset_id": "enum-coverage-loop-mode-01",
  "asset_type": "music",
  "license": "CC0-1.0",
  "seed": 99002,
  "description": "Music spec for enum coverage testing - covers loop_mode variants",
  "outputs": [
    {
      "kind": "primary",
      "format": "xm",
      "path": "music/enum_coverage_loop_mode.xm"
    }
  ],
  "recipe": {
    "kind": "music.tracker_song_v1",
    "params": {
      "format": "xm",
      "bpm": 120,
      "speed": 6,
      "channels": 4,
      "loop": true,
      "instruments": [
        {
          "name": "lead_auto",
          "synthesis": {
            "type": "sine"
          },
          "envelope": {
            "attack": 0.01,
            "decay": 0.1,
            "sustain": 0.5,
            "release": 0.2
          },
          "loop_mode": "auto"
        },
        {
          "name": "bass_none",
          "synthesis": {
            "type": "sawtooth"
          },
          "envelope": {
            "attack": 0.01,
            "decay": 0.1,
            "sustain": 0.6,
            "release": 0.15
          },
          "loop_mode": "none"
        },
        {
          "name": "pad_forward",
          "synthesis": {
            "type": "triangle"
          },
          "envelope": {
            "attack": 0.1,
            "decay": 0.2,
            "sustain": 0.7,
            "release": 0.3
          },
          "loop_mode": "forward"
        },
        {
          "name": "fx_pingpong",
          "synthesis": {
            "type": "pulse"
          },
          "envelope": {
            "attack": 0.001,
            "decay": 0.05,
            "sustain": 0.3,
            "release": 0.1
          },
          "loop_mode": "pingpong"
        }
      ],
      "patterns": {
        "intro": {
          "rows": 64,
          "data": [
            {"row": 0, "channel": 0, "note": "C4", "instrument": 0, "volume": 64},
            {"row": 16, "channel": 0, "note": "E4", "instrument": 0, "volume": 64},
            {"row": 32, "channel": 0, "note": "G4", "instrument": 0, "volume": 64},
            {"row": 0, "channel": 1, "note": "C2", "instrument": 1, "volume": 48},
            {"row": 32, "channel": 1, "note": "G2", "instrument": 1, "volume": 48}
          ]
        }
      },
      "arrangement": [
        {"pattern": "intro", "repeat": 2}
      ]
    }
  }
}
