{
  "spec_version": 1,
  "asset_id": "complex_arrangement",
  "asset_type": "music",
  "license": "CC0-1.0",
  "seed": 3005,
  "description": "Complex arrangement - multiple patterns, automation",
  "outputs": [
    {
      "kind": "audio",
      "format": "xm",
      "path": "complex_arrangement.xm"
    }
  ],
  "recipe": {
    "kind": "music.tracker_song_v1",
    "params": {
      "title": "Complex Arrangement",
      "format": "xm",
      "bpm": 130,
      "speed": 6,
      "channels": 8,
      "restart_position": 0,
      "instruments": [
        {
          "name": "lead_synth",
          "synthesis": {
            "type": "subtractive",
            "oscillators": [
              {"waveform": "saw", "detune": 0},
              {"waveform": "saw", "detune": 5}
            ],
            "filter": {"type": "lowpass", "cutoff": 3000, "q": 1.2}
          },
          "envelope": {
            "attack": 0.01,
            "decay": 0.1,
            "sustain": 0.7,
            "release": 0.2
          }
        },
        {
          "name": "bass_sub",
          "synthesis": {
            "type": "subtractive",
            "oscillators": [{"waveform": "sine"}],
            "filter": {"type": "lowpass", "cutoff": 400}
          },
          "envelope": {
            "attack": 0.01,
            "decay": 0.15,
            "sustain": 0.5,
            "release": 0.2
          }
        },
        {
          "name": "arp_pluck",
          "synthesis": {
            "type": "karplus_strong",
            "damping": 0.995,
            "brightness": 0.9
          },
          "envelope": {
            "attack": 0.001,
            "decay": 0.2,
            "sustain": 0.2,
            "release": 0.3
          }
        }
      ],
      "patterns": {
        "intro": {
          "rows": 64,
          "notes": {
            "0": [
              {"row": 0, "note": "C4", "inst": 2, "vol": 48},
              {"row": 4, "note": "E4", "inst": 2, "vol": 40},
              {"row": 8, "note": "G4", "inst": 2, "vol": 48},
              {"row": 12, "note": "E4", "inst": 2, "vol": 40}
            ]
          }
        },
        "verse": {
          "rows": 64,
          "notes": {
            "0": [
              {"row": 0, "note": "C4", "inst": 0, "vol": 64},
              {"row": 16, "note": "D4", "inst": 0, "vol": 64},
              {"row": 32, "note": "E4", "inst": 0, "vol": 64},
              {"row": 48, "note": "G4", "inst": 0, "vol": 64}
            ],
            "1": [
              {"row": 0, "note": "C2", "inst": 1, "vol": 56},
              {"row": 16, "note": "D2", "inst": 1, "vol": 56},
              {"row": 32, "note": "E2", "inst": 1, "vol": 56},
              {"row": 48, "note": "G2", "inst": 1, "vol": 56}
            ],
            "2": [
              {"row": 0, "note": "C4", "inst": 2, "vol": 40},
              {"row": 4, "note": "E4", "inst": 2, "vol": 32},
              {"row": 8, "note": "G4", "inst": 2, "vol": 40},
              {"row": 12, "note": "E4", "inst": 2, "vol": 32},
              {"row": 16, "note": "D4", "inst": 2, "vol": 40},
              {"row": 20, "note": "F4", "inst": 2, "vol": 32},
              {"row": 24, "note": "A4", "inst": 2, "vol": 40},
              {"row": 28, "note": "F4", "inst": 2, "vol": 32}
            ]
          }
        },
        "chorus": {
          "rows": 64,
          "notes": {
            "0": [
              {"row": 0, "note": "G4", "inst": 0, "vol": 64},
              {"row": 8, "note": "A4", "inst": 0, "vol": 64},
              {"row": 16, "note": "B4", "inst": 0, "vol": 64},
              {"row": 24, "note": "C5", "inst": 0, "vol": 64}
            ],
            "1": [
              {"row": 0, "note": "G2", "inst": 1, "vol": 64},
              {"row": 16, "note": "A2", "inst": 1, "vol": 64},
              {"row": 32, "note": "B2", "inst": 1, "vol": 64},
              {"row": 48, "note": "C3", "inst": 1, "vol": 64}
            ]
          }
        }
      },
      "arrangement": [
        {"pattern": "intro", "repeat": 1},
        {"pattern": "verse", "repeat": 2},
        {"pattern": "chorus", "repeat": 2},
        {"pattern": "verse", "repeat": 1},
        {"pattern": "chorus", "repeat": 2}
      ],
      "automation": [
        {
          "type": "volume_fade",
          "pattern": "intro",
          "channel": 0,
          "start_row": 0,
          "end_row": 63,
          "start_vol": 0,
          "end_vol": 48
        }
      ]
    }
  }
}
